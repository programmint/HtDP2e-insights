学习笔记 / 第5章：添加结构体

<br>

### 5.9、总结：结构体的方方面面

<br>

#### 总结 1、结构体之两个层面定义

<br>

第1、结构体类型定义。  

    目的：机器可执行   

    主要是创建一种新的数据类型，告诉计算机如何构造和操作这种新型数据。


>*注：结构体定义，详见 HtDP2e 中文版，P91，5.4 定义结构体类型，这里讲解了结构体的类型定义。*   

<br>

第2、结构体数据定义   

    目的：人类可理解。   

    主要是通过注释，解释该结构体的语义，告诉人类数据的含义是什么，以及如何正确使用

>*注：HtDP2e 中文版 P97，5.6 结构体的编程，这里讲解了结构体的数据定义。* 

这两层面的定义，最后都整合到结构体程序设计中。

<br>

#### 总结 2、结构体注释的作用
相比之前，结构体的注释，量多，还复杂。

注释的主要作用如下：   

对机器约束：语法层，如何构造和处理数据。   

对人约束：语义层，数据的意义和正确用法。

注释其实就是“设计契约”，把“语义描述”与“语法规则”进行了双向绑定。

<br>

#### 总结 3、理解 HtDP2e 的思路

到了第 5 章，隐隐约约感觉出：HtDP2e 的核心，是数据驱动设计。   
***HtDP2e 核心理念：程序设计的本质，是数据设计。***   

但从HtDP2e 的完整设计思路来说，总共包含 3 个层面:

第 1、数据定义：明确信息与数据之间的相互转化关系。

第 2、函数设计：模板化操作数据。（数据定义驱动了函数模板）

第 3、测试验证：确保数据和函数符合预期结果。（测试、验证数据和函数是不是一致）

<br>

***HtDP2e 的完整设计思路***   

数据定义 → 函数签名/目的声明 → 示例/测试 → 函数模板 → 代码实现 → 测试验证

<br>